import{_ as N}from"./AdminLayout.fa9b63d2.js";import{R as C,o as c,e as _,i as l,w as n,d as m,n as y,x as b,l as k,r as $,b as r,F as g,t as M,a as x,f as B}from"./app.ff9256fe.js";import{_ as f}from"./PrimaryButton.b6cc1c92.js";import{_ as F}from"./Modal.3ab016ed.js";import{_ as L}from"./BodySection.c501a4dc.js";import"./ziggy.a0f2acb6.js";import"./_plugin-vue_export-helper.cdc0426e.js";const j={__name:"UpdateButton",props:{place:Object},setup(a){const t=a,s=C({id:t.place.id}),e=()=>{s.get(route("dashboard.places.edit",{id:t.place.id}))};return(i,p)=>(c(),_("form",{onSubmit:k(e,["prevent"])},[l(f,{class:y(["ml-4",{"opacity-25":b(s).processing}]),disabled:b(s).processing},{default:n(()=>[...p[0]||(p[0]=[m(" Edit ",-1)])]),_:1},8,["class","disabled"])],32))}},O={__name:"DeleteButton",props:{place:Object},setup(a){const t=a,s=C({id:t.place.id}),e=()=>{s.delete(route("dashboard.places.destroy",{id:t.place.id}),{onFinish:()=>console.log("place destroyed")})};return(i,p)=>(c(),_("form",{onSubmit:k(e,["prevent"])},[l(f,{class:y(["ml-4",{"opacity-25":b(s).processing}]),disabled:b(s).processing},{default:n(()=>[...p[0]||(p[0]=[m(" Delete ",-1)])]),_:1},8,["class","disabled"])],32))}},S=["src"],D={__name:"MapLink",props:{place:Object},emits:["close"],setup(a,{emit:t}){const s=t,e=a,i=$(!1),p=()=>{s("close")},w=()=>{i.value=!i.value},v=()=>{window.open("https://www.openstreetmap.org/#map=19/"+e.place.coordinates)},d=function(){let o=e.place.coordinates.split("/");return{latitude:o[0],longitude:o[1]}},h=function(){let o={x1:Number(d().longitude)-.00257605737,y1:Number(d().latitude)-.00066748764,x2:Number(d().longitude)+.00190323167,y2:Number(d().latitude)+.00066755987,mx:Number(d().longitude)+8863277435e-14,my:Number(d().latitude)+4209515e-14};return"https://www.openstreetmap.org/export/embed.html?bbox="+o.x1+"%2C"+o.y1+"%2C"+o.x2+"%2C"+o.y2+"&amp;layer=mapquest&amp;marker="+o.mx+"%2C"+o.my};return(o,u)=>(c(),_(g,null,[l(F,{show:i.value,"max-width":"2xl",closeable:!0,onClose:p},{default:n(()=>[l(f,{class:"ml-4",onClick:w},{default:n(()=>[...u[0]||(u[0]=[m(" Close Map ",-1)])]),_:1}),l(f,{class:"ml-4",onClick:v},{default:n(()=>[...u[1]||(u[1]=[m(" openstreetmap link ",-1)])]),_:1}),r("iframe",{width:"425",height:"350",frameborder:"0",scrolling:"no",marginheight:"0",marginwidth:"0",src:h(),style:{border:"1px solid black"}},null,8,S)]),_:1},8,["show"]),l(f,{class:"ml-4",onClick:w},{default:n(()=>[...u[2]||(u[2]=[m(" Show Map ",-1)])]),_:1})],64))}},P={__name:"PlaceItem",props:{place:Object},setup(a){const t=a;return(s,e)=>(c(),_(g,null,[r("div",null,M(t.place.location),1),r("div",null,[l(D,{place:t.place},null,8,["place"])]),r("div",null,[l(j,{place:t.place},null,8,["place"]),l(O,{place:t.place},null,8,["place"])])],64))}},V={class:"grid grid-cols-3 gap-3"},U={__name:"List",props:{places:Array},setup(a){const t=()=>{window.open(route("dashboard.places.create"),"_self")};return(s,e)=>(c(),x(N,{title:"Places"},{default:n(()=>[l(f,{class:"ml-4",onClick:t},{default:n(()=>[...e[0]||(e[0]=[m(" Create ",-1)])]),_:1}),l(L,null,{default:n(()=>[r("div",V,[e[1]||(e[1]=r("div",null,"Location",-1)),e[2]||(e[2]=r("div",null,"Coordinates",-1)),e[3]||(e[3]=r("div",null,"Functions",-1)),(c(!0),_(g,null,B(a.places,i=>(c(),x(P,{place:i},null,8,["place"]))),256))])]),_:1})]),_:1}))}};export{U as default};
