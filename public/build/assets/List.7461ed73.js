import{_ as k}from"./AdminLayout.249c7c2e.js";import{u as g,o as r,e as m,b as s,w as o,g as p,n as x,h as f,m as w,d as v,a as n,F as h,t as $,c as b,i as N}from"./app.2796258c.js";import{_ as d}from"./PrimaryButton.963fe689.js";import{_ as M}from"./Modal.d37b1677.js";import{_ as B}from"./BodySection.94da45fe.js";import{r as S}from"./index.5d71e271.js";import"./_plugin-vue_export-helper.cdc0426e.js";const F=["onSubmit"],L={__name:"UpdateButton",props:{place:Object},setup(l){const e=l,t=g({id:e.place.id}),c=()=>{t.get(route("dashboard.places.edit",{id:e.place.id}))};return(u,_)=>(r(),m("form",{onSubmit:w(c,["prevent"])},[s(d,{class:x(["ml-4",{"opacity-25":f(t).processing}]),disabled:f(t).processing},{default:o(()=>[p(" Edit ")]),_:1},8,["class","disabled"])],40,F))}},j=["onSubmit"],O={__name:"DeleteButton",props:{place:Object},setup(l){const e=l,t=g({id:e.place.id}),c=()=>{t.delete(route("dashboard.places.destroy",{id:e.place.id}),{onFinish:()=>console.log("place destroyed")})};return(u,_)=>(r(),m("form",{onSubmit:w(c,["prevent"])},[s(d,{class:x(["ml-4",{"opacity-25":f(t).processing}]),disabled:f(t).processing},{default:o(()=>[p(" Delete ")]),_:1},8,["class","disabled"])],40,j))}},P=["src"],D={__name:"MapLink",props:{place:Object},emits:["close"],setup(l,{emit:e}){const t=l,c=v(!1),u=()=>{e("close")},_=()=>{c.value=!c.value},y=()=>{window.open("https://www.openstreetmap.org/#map=19/"+t.place.coordinates)},i=function(){let a=t.place.coordinates.split("/");return{latitude:a[0],longitude:a[1]}},C=function(){let a={x1:Number(i().longitude)-.00257605737,y1:Number(i().latitude)-.00066748764,x2:Number(i().longitude)+.00190323167,y2:Number(i().latitude)+.00066755987,mx:Number(i().longitude)+8863277435e-14,my:Number(i().latitude)+4209515e-14};return"https://www.openstreetmap.org/export/embed.html?bbox="+a.x1+"%2C"+a.y1+"%2C"+a.x2+"%2C"+a.y2+"&amp;layer=mapquest&amp;marker="+a.mx+"%2C"+a.my};return(a,T)=>(r(),m(h,null,[s(M,{show:c.value,"max-width":"2xl",closeable:!0,onClose:u},{default:o(()=>[s(d,{class:"ml-4",onClick:_},{default:o(()=>[p(" Close Map ")]),_:1}),s(d,{class:"ml-4",onClick:y},{default:o(()=>[p(" openstreetmap link ")]),_:1}),n("iframe",{width:"425",height:"350",frameborder:"0",scrolling:"no",marginheight:"0",marginwidth:"0",src:C(),style:{border:"1px solid black"}},null,8,P)]),_:1},8,["show"]),s(d,{class:"ml-4",onClick:_},{default:o(()=>[p(" Show Map ")]),_:1})],64))}},V={__name:"PlaceItem",props:{place:Object},setup(l){const e=l;return(t,c)=>(r(),m(h,null,[n("div",null,$(e.place.location),1),n("div",null,[s(D,{place:e.place},null,8,["place"])]),n("div",null,[s(L,{place:e.place},null,8,["place"]),s(O,{place:e.place},null,8,["place"])])],64))}},E=n("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Places ",-1),q={class:"grid grid-cols-3 gap-3"},z=n("div",null,"Location",-1),A=n("div",null,"Coordinates",-1),I=n("div",null,"Functions",-1),W={__name:"List",props:{places:Array},setup(l){const e=()=>{window.open(S("dashboard.places.create"),"_self")};return(t,c)=>(r(),b(k,{title:"Places"},{header:o(()=>[E,s(d,{class:"ml-4",onClick:e},{default:o(()=>[p(" Create ")]),_:1})]),default:o(()=>[s(B,null,{default:o(()=>[n("div",q,[z,A,I,(r(!0),m(h,null,N(l.places,u=>(r(),b(V,{place:u},null,8,["place"]))),256))])]),_:1})]),_:1}))}};export{W as default};
