import{C as _,L as U,p as B,a as F,b as P,c as M,P as J,d as K,e as q,i as z}from"./chart.5edeca99.js";import{z as H,P as $,r as R,k as L,G,J as T,a1 as c,C as j,a2 as k,o as g,a as I,x as W,c as C,w as Q,b as n,e as v,f as S,F as A,d as V,t as O,i as E}from"./app.ff9256fe.js";import{F as X}from"./FrontLayout.9b9bcf85.js";import{_ as Y}from"./RawTable.fe489696.js";import{_ as Z}from"./_plugin-vue_export-helper.cdc0426e.js";var b;(function(t){t.ChartRendered="chart:rendered",t.ChartUpdated="chart:updated",t.ChartDestroyed="chart:destroyed",t.LabelsUpdated="labels:updated"})(b||(b={}));function x(t,a,l,e){t(a,l),e!==void 0&&e.emit(b.ChartRendered)}function tt(t,a){t.update(),a!==void 0&&a.emit(b.ChartUpdated)}function w(t,a){t.destroy(),a!==void 0&&a.emit(b.ChartDestroyed)}function et(t,a){const l={labels:typeof t.labels>"u"?[]:[...t.labels],datasets:[]};return N(l,{...t},a),l}function N(t,a,l){const e=[];t.datasets=a.datasets.map(s=>{const r=t.datasets.find(u=>u[l]===s[l]);return!r||!s.data||e.includes(r)?{...s}:(e.push(r),Object.assign(r,s),r)})}function at(t,a,l){t.data.labels=a,l!==void 0&&l.emit(b.LabelsUpdated)}function st(t,a){t.options={...a}}function rt(t,a){const l=t.datasets.map(s=>s.label),e=a.datasets.map(s=>s.label);return a.datasets.length===t.datasets.length&&l.every((s,r)=>s===e[r])}const lt="Please remove the <template></template> tags from your chart component. See https://vue-chartjs.org/guide/#vue-single-file-components",nt="Update ERROR: chart instance not found",it=(t,a,l)=>H({props:{chartData:{type:Object,required:!0},chartOptions:{type:Object,default:()=>{}},datasetIdKey:{type:String,default:"label"},chartId:{type:String,default:t},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{type:String,default:""},styles:{type:Object,default:()=>{}},plugins:{type:Array,default:()=>[]}},setup(e,s){_.register(l);const r=$(null),u=R(null);function h(d,o){if(r.value!==null&&w(c(r.value),s),u.value===null)throw new Error(lt);{const f=et(d,e.datasetIdKey),y=u.value.getContext("2d");y!==null&&(r.value=new _(y,{type:a,data:k(d)?new Proxy(f,{}):f,options:o,plugins:e.plugins}))}}function i(d,o){const f=k(d)?c(d):{...d},y=k(o)?c(o):{...o};if(Object.keys(y).length>0){const m=c(r.value);rt(f,y)&&m!==null?(N(m==null?void 0:m.data,f,e.datasetIdKey),f.labels!==void 0&&at(m,f.labels,s),D()):(m!==null&&w(m,s),x(h,e.chartData,e.chartOptions,s))}else r.value!==null&&w(c(r.value),s),x(h,e.chartData,e.chartOptions,s)}function p(d){const o=c(r.value);o!==null?(st(o,d),D()):x(h,e.chartData,e.chartOptions,s)}function D(){const d=c(r.value);d!==null?tt(d,s):console.error(nt)}return L(()=>e.chartData,(d,o)=>i(d,o),{deep:!0}),L(()=>e.chartOptions,d=>p(d),{deep:!0}),G(()=>{"datasets"in e.chartData&&e.chartData.datasets.length>0&&x(h,e.chartData,e.chartOptions,s)}),T(()=>{r.value!==null&&w(c(r.value),s)}),s.expose({chart:r,updateChart:D}),()=>j("div",{style:e.styles,class:e.cssClasses},[j("canvas",{id:e.chartId,width:e.width,height:e.height,ref:u})])}}),dt=it("line-chart","line",U),ot={__name:"LineChart",props:{chartId:{type:String,default:"bar-chart"},datasetIdKey:{type:String,default:"label"},width:{type:Number,default:400},height:{type:Number,default:200},cssClasses:{default:"",type:String},styles:{type:Object,default:()=>{}},plugins:{type:Object,default:()=>{}},chartData:{type:Object,default:()=>{}},chartOptions:{type:Object,default:()=>{}}},setup(t){return _.register(B,F,P,M,J,K,q,z),(a,l)=>(g(),I(W(dt),{"chart-options":t.chartOptions,"chart-data":t.chartData,"chart-id":t.chartId,"dataset-id-key":t.datasetIdKey,plugins:t.plugins,"css-classes":t.cssClasses,styles:t.styles,width:t.width,height:t.height},null,8,["chart-options","chart-data","chart-id","dataset-id-key","plugins","css-classes","styles","width","height"]))}};const ct={class:"relative mx-auto max-w-7xl overflow-hidden rounded-3xl bg-white/60 backdrop-blur-2xl ring-1 ring-emerald-200 shadow-2xl p-6 md:p-10"},ut={class:"relative"},ht={class:"mt-10 bg-white/80 backdrop-blur ring-1 ring-emerald-100 rounded-2xl shadow-md p-6 md:p-8"},pt={class:"grid md:grid-cols-2 gap-6"},ft={class:"list-disc list-inside space-y-1 text-emerald-900/90"},mt={class:"list-disc list-inside space-y-1 text-emerald-900/90"},gt={class:"mt-3 text-emerald-900/90"},bt={class:"mt-10 rounded-3xl bg-white ring-1 ring-emerald-100 p-4 shadow-lg"},yt={class:"pt-4"},vt=25,xt={__name:"SelectedReport",props:{dataset:{type:Array,default:()=>[]},report:{type:Object,default:()=>({places:[],objects:[],method:""})},raw:{type:Array,default:()=>[]},e:{type:Array,default:()=>[]}},setup(t){const a=t,l=["#047857","#059669","#10B981","#34D399","#6EE7B7","#A7F3D0","#D1FAE5"],e=C(()=>({labels:["Janv\u0101ris","Febru\u0101ris","Marts","Apr\u012Blis","Maijs","J\u016Bnijs","J\u016Blijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],datasets:(a.dataset||[]).map((h,i)=>({...h,tension:.35,borderWidth:3,pointRadius:0,borderColor:l[i%l.length],backgroundColor:l[i%l.length]+"33"}))})),s={responsive:!0,plugins:{legend:{position:"bottom",labels:{color:"#064e3b",usePointStyle:!0,padding:20}},tooltip:{mode:"index",intersect:!1}},scales:{x:{ticks:{color:"#065f46"},grid:{color:"rgba(16,185,129,0.08)"}},y:{ticks:{color:"#065f46"},grid:{color:"rgba(16,185,129,0.08)"}}}},r=R(vt);C(()=>r.value<a.raw.length),C(()=>a.raw.slice(0,r.value));const u=[{text:"Atskaites",href:"/report"}];return(h,i)=>(g(),I(X,{title:"Atskaites",breadcrumbs:u},{default:Q(()=>[n("section",ct,[i[5]||(i[5]=n("div",{"aria-hidden":"true",class:"pointer-events-none absolute inset-0"},[n("div",{class:"absolute -top-40 -left-1/2 w-[200%] h-[200%] bg-gradient-to-tr from-emerald-300/20 via-emerald-500/10 to-emerald-300/20 blur-3xl animate-pulse-slow"})],-1)),n("div",ut,[i[3]||(i[3]=n("h1",{class:"text-center text-4xl md:text-5xl font-extrabold tracking-tight text-emerald-900 drop-shadow-sm"}," R\u012Bgas Veloskait\u012B\u0161anas Atskaites ",-1)),i[4]||(i[4]=n("p",{class:"mt-3 text-center max-w-2xl mx-auto text-emerald-800/80 text-lg"}," M\u0113s skait\u0101m katra m\u0113ne\u0161a 15. datumam tuv\u0101kaj\u0101 piektdien\u0101, lai par\u0101d\u012Btu pils\u0113tas kust\u012Bbas sp\u0113ku. ",-1)),n("div",ht,[n("div",pt,[n("div",null,[i[0]||(i[0]=n("h3",{class:"text-xl font-semibold text-emerald-900 mb-2"},"Iek\u013Cautie punkti",-1)),n("ul",ft,[(g(!0),v(A,null,S(a.report.places,p=>(g(),v("li",{key:p},O(p),1))),128))])]),n("div",null,[i[2]||(i[2]=n("h3",{class:"text-xl font-semibold text-emerald-900 mb-2"},"Iek\u013Caut\u0101s grupas",-1)),n("ul",mt,[(g(!0),v(A,null,S(a.report.objects,p=>(g(),v("li",{key:p},O(p),1))),128))]),n("p",gt,[i[1]||(i[1]=V(" Metode: ",-1)),n("b",null,O(a.report.method),1)])])])]),n("div",bt,[E(ot,{chartData:e.value,chartOptions:s},null,8,["chartData"])]),n("div",yt,[E(Y,{reports:a.raw},null,8,["reports"])])])])]),_:1}))}},Lt=Z(xt,[["__scopeId","data-v-15d73adc"]]);export{Lt as default};
