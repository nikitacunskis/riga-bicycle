import{R as v,a as x,w as d,o as k,b as l,i as s,x as o,d as n,n as C,l as D,t as S}from"./app.ff9256fe.js";import{_ as V}from"./AdminLayout.fa9b63d2.js";import{_ as c}from"./InputError.f52eab9e.js";import{_}from"./InputLabel.0597bfb8.js";import{_ as m}from"./PrimaryButton.b6cc1c92.js";import{_ as w}from"./TextInput.d02c9cb7.js";import"./_plugin-vue_export-helper.cdc0426e.js";const F={class:"mt-4"},N={class:"flex items-center justify-end mt-4"},T={__name:"Create",setup($){const t=v({date:"",weather:""});let u="";const f=()=>{var a=new Date,e=String(a.getDate()).padStart(2,"0"),r=String(a.getMonth()+1).padStart(2,"0"),i=a.getFullYear();t.date=i+"-"+r+"-"+e},b=()=>{let a=new Date(t.date).toISOString();var e=new Date;if(a!="NaN"){if(e<=a)return!0;u="Date can't be found if you set future date"}return!1},p=()=>{(t.date!==""||b())&&axios.post("/dashboard/weather/get/",{date:t.date}).then(a=>{let e=Object.keys(a.data)[Object.keys(a.data).length-1],r=JSON.parse(a.data[e].json_data),i=r.main.temp-273.15,h=r.main.temp_max-273.15;t.weather="Gaisa temperat\u016Bra: "+i.toFixed(2)+" "+r.weather[0].description+"(Maksim\u0101l\u0101 temperat\u016Bra: "+h.toFixed(2)+" )"})},g=()=>{f(),p()},y=()=>{t.post(route("dashboard.events.store"),{onFinish:()=>console.log("event created")})};return g(),(a,e)=>(k(),x(V,{title:"Dashboard - Create Event"},{default:d(()=>[e[5]||(e[5]=l("h2",null,"Create Event",-1)),l("form",{onSubmit:D(y,["prevent"])},[l("div",null,[s(_,{for:"date",value:"Date"}),s(w,{id:"date",modelValue:o(t).date,"onUpdate:modelValue":e[0]||(e[0]=r=>o(t).date=r),type:"date",class:"mt-1 block w-full bg-black text-white",required:"",autofocus:"",autocomplete:"date"},null,8,["modelValue"]),s(m,{onClick:f,type:"button"},{default:d(()=>[...e[2]||(e[2]=[n(" Today ",-1)])]),_:1}),s(c,{class:"mt-2",message:o(t).errors.date},null,8,["message"])]),l("div",F,[s(_,{for:"weather",value:"Weather"}),s(w,{id:"weather",modelValue:o(t).weather,"onUpdate:modelValue":e[1]||(e[1]=r=>o(t).weather=r),type:"text",class:"mt-1 block w-full bg-black text-white",required:""},null,8,["modelValue"]),s(m,{onClick:p,type:"button"},{default:d(()=>[...e[3]||(e[3]=[n(" Get weather ",-1)])]),_:1}),s(c,{class:"mt-2",message:o(t).errors.weather},null,8,["message"])]),l("div",N,[s(m,{class:C(["ml-4",{"opacity-25":o(t).processing}]),disabled:o(t).processing},{default:d(()=>[...e[4]||(e[4]=[n(" Create ",-1)])]),_:1},8,["class","disabled"])])],32),n(" "+S(o(u)),1)]),_:1}))}};export{T as default};
