import{R as E,a as b,w as u,o as a,b as s,i as c,d as g,n as _,x as l,e as i,f as p,F as m,l as B,t as y}from"./app.ff9256fe.js";import{_ as I}from"./AdminLayout.fa9b63d2.js";import{_ as N}from"./TextInput.d02c9cb7.js";import{_ as k}from"./PrimaryButton.b6cc1c92.js";import{R as S}from"./ReportSetup.ba6160d0.js";import{_ as j}from"./InputField.2349fa27.js";import{_ as C}from"./InputLabel.0597bfb8.js";import"./_plugin-vue_export-helper.cdc0426e.js";const R={class:"flex items-center justify-end mt-4"},$={id:"places",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},F=["value"],O={id:"events",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},V=["value"],z={class:"border border-white border m-5 p-5"},K={__name:"Create",props:{places:Object,events:Object,prev_event_id:{type:String,default:""}},setup(v){const d=new S().getItemsShow,n=v;console.log(n.places);const t=E({place_id:"",event_id:n.prev_event_id,womens:"",man:"",radway:"",pavement:"",biekpath:"",child_chairs:"",supermobility:"",to_center:"",from_center:"",children_self:"",children_passanger:""});let f={};d.forEach(e=>{f[e.id]=0});const h=()=>{d.forEach(e=>{t[e.id]=document.getElementById(e.id).value}),t.place_id=document.getElementById("places").value,t.event_id=document.getElementById("events").value,t.post(route("dashboard.reports.store")).then(e=>{console.log(e)})},x=e=>typeof e!="string"?!1:!isNaN(e)&&!isNaN(parseFloat(e)),w=()=>{let e=document.getElementById("excel-string").value.split("	");console.log("data",e),t.place_id=e[1],t.womens=e[3],t.man=e[4],t.radway=e[6],t.pavement=e[7],t.biekpath=e[8],t.child_chairs=e[9],t.supermobility=e[10],t.to_center=e[11],t.from_center=e[12],t.children_self=e[13],t.children_passanger=e[14];let o=Object.keys(t);console.log("keys",o),d.forEach((r,T)=>{r.id!=="event_id"&&(console.log("e",r.id,typeof r),x(t[r.id])?document.getElementById(r.id).value=t[r.id]:document.getElementById(r.id).value=0)}),console.log(e)};return(e,o)=>(a(),b(I,{title:"Dashboard - Create Report"},{default:u(()=>[s("form",{onSubmit:B(h,["prevent"])},[s("div",R,[c(k,{class:_(["ml-4",{"opacity-25":l(t).processing}]),disabled:l(t).processing},{default:u(()=>[...o[0]||(o[0]=[g(" Create ",-1)])]),_:1},8,["class","disabled"])]),s("div",null,[o[1]||(o[1]=s("label",{for:"places",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-400"},"Place",-1)),s("select",$,[(a(!0),i(m,null,p(n.places,r=>(a(),i("option",{value:r.id},y(r.location),9,F))),256))])]),s("div",null,[o[2]||(o[2]=s("label",{for:"events",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-400"},"Events",-1)),s("select",O,[(a(!0),i(m,null,p(n.events,r=>(a(),i("option",{value:r.id},y(r.date),9,V))),256))])]),s("section",z,[c(C,{class:"text-white",value:"Import\u0113 reporta datus no v\u0113sturiska Andreja Excel faila. Nokop\u0113 fail\u0101 visu rindu (row) un iekop\u0113 te (teksta veid\u0101). Nospied Import un datiem vajadz\u0113tu autom\u0101tiski pievilkties."}),c(N,{value:"",id:"excel-string",class:"bg-black border border-white p-1 m-3"}),c(k,{class:_(["ml-4",{"opacity-25":l(t).processing}]),disabled:l(t).processing,onClick:w,type:"button"},{default:u(()=>[...o[3]||(o[3]=[g(" Import ",-1)])]),_:1},8,["class","disabled"])]),(a(!0),i(m,null,p(l(d),r=>(a(),b(j,{field:r,report:l(f)},null,8,["field","report"]))),256))],32)]),_:1}))}};export{K as default};
