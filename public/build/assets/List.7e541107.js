import{_ as z}from"./AdminLayout.fa9b63d2.js";import{R as M,o as l,e as i,i as p,w as m,d as b,n as k,x as y,l as S,b as e,t as u,s as F,r as P,c as f,a as I,f as h,F as w}from"./app.ff9256fe.js";import{_}from"./PrimaryButton.b6cc1c92.js";import{_ as N}from"./BodySection.c501a4dc.js";import"./ziggy.a0f2acb6.js";import"./_plugin-vue_export-helper.cdc0426e.js";const D={__name:"UpdateButton",props:{event:Object},setup(d){const o=d,n=M({id:o.event.id}),v=()=>{n.get(route("dashboard.events.edit",{id:o.event.id}))};return(r,a)=>(l(),i("form",{onSubmit:S(v,["prevent"])},[p(_,{class:k(["ml-4",{"opacity-25":y(n).processing}]),disabled:y(n).processing},{default:m(()=>[...a[0]||(a[0]=[b(" Edit ",-1)])]),_:1},8,["class","disabled"])],32))}},O={__name:"DeleteButton",props:{event:Object},setup(d){const o=d,n=M({id:o.event.id}),v=()=>{n.delete(route("dashboard.events.destroy",{id:o.event.id}),{onFinish:()=>console.log("event destroyed")})};return(r,a)=>(l(),i("form",{onSubmit:S(v,["prevent"])},[p(_,{class:k(["ml-4",{"opacity-25":y(n).processing}]),disabled:y(n).processing},{default:m(()=>[...a[0]||(a[0]=[b(" Delete ",-1)])]),_:1},8,["class","disabled"])],32))}},V={class:"group transition hover:bg-gray-50/80 dark:hover:bg-white/5 focus-within:bg-gray-50/80"},L={class:"whitespace-nowrap px-4 py-3 text-sm text-gray-900 dark:text-gray-100 align-middle"},T={class:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300 align-middle"},A={class:"px-4 py-2 align-middle"},R={class:"flex items-center gap-2"},q={__name:"EventItem",props:{event:{type:Object,required:!0}},setup(d){const o=d,n=()=>{F.post(route("dashboard.events.generate",o.event.id))};return(v,r)=>(l(),i("tr",V,[e("td",L,u(o.event.date),1),e("td",T,u(o.event.weather),1),e("td",A,[e("div",R,[p(D,{event:o.event},null,8,["event"]),p(O,{event:o.event},null,8,["event"]),p(_,{onClick:n},{default:m(()=>[...r[0]||(r[0]=[b("Generate image",-1)])]),_:1})])])]))}},G={class:"flex items-center justify-between"},U={class:"flex items-center gap-4"},W={class:"flex items-center gap-3"},H=["value"],J=["value"],K={class:"text-sm text-gray-500"},Q={class:"overflow-x-auto shadow-sm"},X={id:"events-table",class:"min-w-full table-auto text-left","aria-describedby":"events-caption"},Y={class:"[&_tr:nth-child(odd)]:bg-gray-50/40"},Z={key:1},ee={class:"mt-4 flex items-center justify-between"},te={class:"text-sm text-gray-500"},se={class:"font-medium text-gray-700"},ae={class:"font-medium text-gray-700"},oe={class:"inline-flex items-center gap-1",role:"navigation","aria-label":"Pagination"},ne=["disabled"],re=["disabled"],le=["onClick"],ie=["disabled"],de=["disabled"],be={__name:"List",props:{events:{type:Array,default:()=>[]}},setup(d){const o=d,n=()=>{window.open(route("dashboard.events.create"),"_self")},v=[5,10,20,50],r=P(10),a=P(1),$=f(()=>o.events.length),g=f(()=>Math.max(1,Math.ceil($.value/r.value))),C=f(()=>{const c=(a.value-1)*r.value;return o.events.slice(c,c+r.value)});function x(c){var s;const t=Math.min(Math.max(1,c),g.value);a.value=t,(s=document==null?void 0:document.getElementById("events-table"))==null||s.scrollIntoView({behavior:"smooth",block:"start"})}function j(c){r.value=c,a.value=1}return(c,t)=>(l(),I(z,{title:"Events"},{default:m(()=>[e("div",G,[e("div",U,[p(_,{onClick:n},{default:m(()=>[...t[5]||(t[5]=[b("Create",-1)])]),_:1})]),e("div",W,[t[6]||(t[6]=e("label",{class:"text-sm text-gray-500"},"Rows",-1)),e("select",{class:"rounded-lg border-gray-300 text-sm shadow-sm focus:border-black focus:ring-black bg-black text-white",value:r.value,onChange:t[0]||(t[0]=s=>j(parseInt(s.target.value,10)))},[(l(),i(w,null,h(v,s=>e("option",{key:s,value:s},u(s),9,J)),64))],40,H),e("span",K,"Total: "+u($.value),1)])]),p(N,null,{default:m(()=>[e("div",Q,[t[10]||(t[10]=e("div",{class:"h-1 w-full bg-gradient-to-r from-gray-100 via-gray-50 to-gray-100"},null,-1)),e("table",X,[t[8]||(t[8]=e("caption",{id:"events-caption",class:"sr-only"}," Events table with pagination ",-1)),t[9]||(t[9]=e("thead",{class:"sticky top-0 backdrop-blur z-10"},[e("tr",null,[e("th",{scope:"col",class:"px-4 py-3 text-xs font-semibold uppercase tracking-wider text-gray-500"}," Date "),e("th",{scope:"col",class:"px-4 py-3 text-xs font-semibold uppercase tracking-wider text-gray-500"}," Weather "),e("th",{scope:"col",class:"px-4 py-3 text-xs font-semibold uppercase tracking-wider text-gray-500"}," Actions ")])],-1)),e("tbody",Y,[C.value.length?(l(!0),i(w,{key:0},h(C.value,(s,E)=>{var B;return l(),I(q,{key:(B=s.id)!=null?B:`${s.date}-${E}`,event:s},null,8,["event"])}),128)):(l(),i("tr",Z,[...t[7]||(t[7]=[e("td",{colspan:"3",class:"px-4 py-8 text-center text-sm text-gray-500"}," No events yet. ",-1)])]))])]),t[11]||(t[11]=e("div",{class:"h-1 w-full bg-gradient-to-r from-gray-100 via-gray-50 to-gray-100"},null,-1))]),e("div",ee,[e("div",te,[t[12]||(t[12]=b(" Page ",-1)),e("span",se,u(a.value),1),t[13]||(t[13]=b(" of ",-1)),e("span",ae,u(g.value),1)]),e("nav",oe,[e("button",{class:"rounded-xl border border-gray-300 px-3 py-2 text-sm shadow-sm disabled:opacity-40 hover:bg-gray-50",disabled:a.value===1,onClick:t[1]||(t[1]=s=>x(1))}," \xAB First ",8,ne),e("button",{class:"rounded-xl border border-gray-300 px-3 py-2 text-sm shadow-sm disabled:opacity-40 hover:bg-gray-50",disabled:a.value===1,onClick:t[2]||(t[2]=s=>x(a.value-1))}," \u2039 Prev ",8,re),(l(!0),i(w,null,h(Math.min(7,g.value),s=>(l(),i("button",{key:s,class:k(["rounded-xl border px-3 py-2 text-sm shadow-sm hover:bg-gray-50",s===a.value?"border-black bg-black text-white":"border-gray-300"]),onClick:E=>x(s)},u(s),11,le))),128)),e("button",{class:"rounded-xl border border-gray-300 px-3 py-2 text-sm shadow-sm disabled:opacity-40 hover:bg-gray-50",disabled:a.value===g.value,onClick:t[3]||(t[3]=s=>x(a.value+1))}," Next \u203A ",8,ie),e("button",{class:"rounded-xl border border-gray-300 px-3 py-2 text-sm shadow-sm disabled:opacity-40 hover:bg-gray-50",disabled:a.value===g.value,onClick:t[4]||(t[4]=s=>x(g.value))}," Last \xBB ",8,de)])])]),_:1})]),_:1}))}};export{be as default};
